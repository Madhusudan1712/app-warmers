name: Keep Apps Warm
on:
  schedule:
    - cron: "/5  * * *"   # every 5 minutes (UTC)
  workflow_dispatch: {}
jobs:
  ping:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        url:
          - https://api.authcenter.madhusudan.space/healthz   # authcenter backend
          - https://authcenter.madhusudan.space/              # authcenter frontend (optional if static)
          - https://devspace.madhusudan.space/                # devspace frontend (optional if static)
    steps:
      - name: Curl ${{ matrix.url }}
        run: |
          curl -A "keepalive-bot" -fsS -m 10 -o /dev/null ${{ matrix.url }} || true
